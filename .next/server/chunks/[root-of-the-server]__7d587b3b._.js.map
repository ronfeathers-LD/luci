{"version":3,"sources":["../../../lib/constants.js","../../../lib/api-helpers.js","../../../src/lib/next-api-helpers.js","../../../lib/avoma-client.js"],"sourcesContent":["/**\n * Shared Constants\n * \n * Centralized constants used across the application\n */\n\n// Request limits\nconst MAX_REQUEST_SIZE = {\n  DEFAULT: 1024 * 1024, // 1MB\n  LARGE: 10 * 1024 * 1024, // 10MB (for sentiment analysis)\n};\n\n// Timeouts\nconst REQUEST_TIMEOUT = 30000; // 30 seconds\n\n// Rate limiting\nconst RATE_LIMIT = {\n  WINDOW: 60 * 1000, // 1 minute\n  MAX_REQUESTS: 10, // 10 requests per minute per IP\n};\n\n// Cache TTL (in hours, except CALENDAR_EVENTS which is in minutes)\nconst CACHE_TTL = {\n  ACCOUNTS: 1, // 1 hour\n  CASES: 1, // 1 hour\n  CONTACTS: 24, // 24 hours\n  TRANSCRIPTIONS: 24, // 24 hours\n  LINKEDIN_PROFILES: 24, // 24 hours\n  CALENDAR_EVENTS: 15, // 15 minutes (calendar events change frequently)\n};\n\n// API Limits\nconst API_LIMITS = {\n  CASES_PER_ACCOUNT: 25,\n  CONTACTS_PER_ACCOUNT: 100,\n  ACCOUNTS_PER_USER: 1000,\n};\n\nmodule.exports = {\n  MAX_REQUEST_SIZE,\n  REQUEST_TIMEOUT,\n  RATE_LIMIT,\n  CACHE_TTL,\n  API_LIMITS,\n};\n\n","/**\n * Shared API Helper Functions\n * \n * Common utilities for Vercel serverless functions\n */\n\nconst { MAX_REQUEST_SIZE, REQUEST_TIMEOUT } = require('./constants');\n\n/**\n * Set standard CORS headers\n */\nfunction setCORSHeaders(res, methods = ['GET', 'POST', 'OPTIONS']) {\n  res.setHeader('Access-Control-Allow-Origin', '*');\n  res.setHeader('Access-Control-Allow-Methods', methods.join(', '));\n  res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n}\n\n/**\n * Handle preflight OPTIONS requests\n */\nfunction handlePreflight(req, res) {\n  if (req.method === 'OPTIONS') {\n    setCORSHeaders(res);\n    return res.status(200).end();\n  }\n  return false;\n}\n\n/**\n * Validate request size\n */\nfunction validateRequestSize(req, maxSize = MAX_REQUEST_SIZE.DEFAULT) {\n  const contentLength = req.headers['content-length'];\n  if (contentLength && parseInt(contentLength) > maxSize) {\n    return {\n      valid: false,\n      error: {\n        status: 413,\n        message: 'Request too large',\n      },\n    };\n  }\n  return { valid: true };\n}\n\n/**\n * Sanitize error message for production\n */\nfunction sanitizeError(error, isProduction = false) {\n  if (isProduction) {\n    // In production, don't expose internal error details\n    return {\n      error: 'An error occurred',\n      message: 'Please try again later or contact support if the problem persists.',\n    };\n  }\n  \n  // In development, return full error details\n  return {\n    error: error.message || 'An error occurred',\n    message: error.message,\n    stack: error.stack,\n  };\n}\n\n/**\n * Standard error response\n */\nfunction sendErrorResponse(res, error, statusCode = 500, isProduction = false) {\n  setCORSHeaders(res);\n  const sanitized = sanitizeError(error, isProduction);\n  return res.status(statusCode).json(sanitized);\n}\n\n/**\n * Standard success response\n */\nfunction sendSuccessResponse(res, data, statusCode = 200) {\n  setCORSHeaders(res);\n  return res.status(statusCode).json(data);\n}\n\n/**\n * Get client IP address from request\n */\nfunction getClientIP(req) {\n  return req.headers['x-forwarded-for']?.split(',')[0] || \n         req.headers['x-real-ip'] || \n         req.connection?.remoteAddress || \n         'unknown';\n}\n\n/**\n * Validate Supabase client and return error response if invalid\n * \n * @param {Object|null} supabase - Supabase client instance\n * @param {Object} res - Express response object\n * @returns {boolean} True if valid, false if invalid (response already sent)\n */\nfunction validateSupabase(supabase, res) {\n  if (!supabase) {\n    sendErrorResponse(res, new Error('Database not configured'), 503, isProduction());\n    return false;\n  }\n  return true;\n}\n\n/**\n * Check if environment is production\n */\nfunction isProduction() {\n  return process.env.NODE_ENV === 'production';\n}\n\n/**\n * Structured logging with levels\n */\nfunction formatLog(level, message) {\n  const timestamp = new Date().toISOString();\n  return `[${timestamp}] [${level.toUpperCase()}] ${message}`;\n}\n\n/**\n * Info log (only in non-production)\n */\nfunction log(message, data = null) {\n  if (!isProduction()) {\n    if (data) {\n      console.log(formatLog('info', message), data);\n    } else {\n      console.log(formatLog('info', message));\n    }\n  }\n}\n\n/**\n * Error log (always logs, even in production)\n */\nfunction logError(message, error = null) {\n  if (error) {\n    console.error(formatLog('error', message), error);\n  } else {\n    console.error(formatLog('error', message));\n  }\n}\n\n/**\n * Warning log (only in non-production)\n */\nfunction logWarn(message, data = null) {\n  if (!isProduction()) {\n    if (data) {\n      console.warn(formatLog('warn', message), data);\n    } else {\n      console.warn(formatLog('warn', message));\n    }\n  }\n}\n\n/**\n * Debug log (only in non-production, for verbose debugging)\n */\nfunction logDebug(message, data = null) {\n  if (!isProduction() && process.env.DEBUG === 'true') {\n    if (data) {\n      console.log(formatLog('debug', message), data);\n    } else {\n      console.log(formatLog('debug', message));\n    }\n  }\n}\n\n/**\n * Simple in-memory rate limiter\n * For production, use Redis or similar distributed store\n */\nconst rateLimitStore = new Map();\n\nfunction checkRateLimit(ip, windowMs, maxRequests) {\n  const now = Date.now();\n  const key = ip;\n  \n  if (!rateLimitStore.has(key)) {\n    rateLimitStore.set(key, { count: 1, resetTime: now + windowMs });\n    return true;\n  }\n  \n  const record = rateLimitStore.get(key);\n  \n  // Reset if window expired\n  if (now > record.resetTime) {\n    record.count = 1;\n    record.resetTime = now + windowMs;\n    return true;\n  }\n  \n  // Check if limit exceeded\n  if (record.count >= maxRequests) {\n    return false;\n  }\n  \n  record.count++;\n  return true;\n}\n\n// Clean up old entries periodically\nconst { RATE_LIMIT } = require('./constants');\nsetInterval(() => {\n  const now = Date.now();\n  for (const [key, record] of rateLimitStore.entries()) {\n    if (now > record.resetTime) {\n      rateLimitStore.delete(key);\n    }\n  }\n}, RATE_LIMIT.WINDOW);\n\nmodule.exports = {\n  setCORSHeaders,\n  handlePreflight,\n  validateRequestSize,\n  sanitizeError,\n  sendErrorResponse,\n  sendSuccessResponse,\n  getClientIP,\n  validateSupabase,\n  checkRateLimit,\n  isProduction,\n  log,\n  logError,\n  logWarn,\n  logDebug,\n};\n\n","/**\n * Next.js API Route Helper Functions\n * \n * Adapters for existing lib/api-helpers.js to work with Next.js\n * Can use require() for existing helpers\n */\n\nimport { NextResponse } from 'next/server';\n\n// Import existing helpers (they work in Next.js via require)\n// From src/lib/next-api-helpers.js -> up to src/ -> up to root/ -> lib/\nconst apiHelpers = require('../../lib/api-helpers');\nconst { MAX_REQUEST_SIZE, REQUEST_TIMEOUT, RATE_LIMIT } = require('../../lib/constants');\n\n/**\n * Set CORS headers for Next.js Response\n */\nexport function setCORSHeaders(response, methods = ['GET', 'POST', 'OPTIONS']) {\n  response.headers.set('Access-Control-Allow-Origin', '*');\n  response.headers.set('Access-Control-Allow-Methods', methods.join(', '));\n  response.headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n  return response;\n}\n\n/**\n * Handle preflight OPTIONS requests for Next.js\n */\nexport async function handlePreflight(request) {\n  if (request.method === 'OPTIONS') {\n    const response = new NextResponse(null, { status: 200 });\n    return setCORSHeaders(response);\n  }\n  return null;\n}\n\n/**\n * Validate request size for Next.js\n */\nexport function validateRequestSize(request, maxSize = MAX_REQUEST_SIZE.DEFAULT) {\n  const contentLength = request.headers.get('content-length');\n  if (contentLength && parseInt(contentLength) > maxSize) {\n    return {\n      valid: false,\n      error: {\n        status: 413,\n        message: 'Request too large',\n      },\n    };\n  }\n  return { valid: true };\n}\n\n/**\n * Send error response for Next.js\n */\nexport function sendErrorResponse(error, statusCode = 500) {\n  const isProd = apiHelpers.isProduction();\n  const sanitized = {\n    error: isProd ? 'An error occurred' : (error?.message || 'An error occurred'),\n    message: isProd ? 'Please try again later or contact support if the problem persists.' : (error?.message || 'An error occurred'),\n  };\n  \n  if (!isProd && error?.stack) {\n    sanitized.stack = error.stack;\n  }\n  \n  const response = NextResponse.json(sanitized, { status: statusCode });\n  return setCORSHeaders(response);\n}\n\n/**\n * Send success response for Next.js\n */\nexport function sendSuccessResponse(data, statusCode = 200) {\n  const response = NextResponse.json(data, { status: statusCode });\n  return setCORSHeaders(response);\n}\n\n/**\n * Get client IP from Next.js Request\n */\nexport function getClientIP(request) {\n  const forwarded = request.headers.get('x-forwarded-for');\n  if (forwarded) {\n    return forwarded.split(',')[0].trim();\n  }\n  return request.headers.get('x-real-ip') || 'unknown';\n}\n\n/**\n * Validate Supabase client for Next.js\n */\nexport function validateSupabase(supabase) {\n  if (!supabase) {\n    return {\n      valid: false,\n      error: { status: 503, message: 'Database not configured' }\n    };\n  }\n  return { valid: true };\n}\n\n/**\n * Check rate limit\n */\nexport function checkRateLimit(ip, windowMs, maxRequests) {\n  return apiHelpers.checkRateLimit(ip, windowMs, maxRequests);\n}\n\n// Re-export other helpers\nexport const log = apiHelpers.log;\nexport const logError = apiHelpers.logError;\nexport const logWarn = apiHelpers.logWarn;\nexport const logDebug = apiHelpers.logDebug;\nexport const isProduction = apiHelpers.isProduction;\n\n","/**\n * Avoma API Client\n * \n * Handles communication with Avoma API for fetching transcriptions\n * Based on SOW-Generator implementation\n */\n\nclass AvomaClient {\n  constructor(apiKey, baseUrl = 'https://api.avoma.com/v1') {\n    this.apiKey = apiKey;\n    this.baseUrl = baseUrl;\n  }\n\n  /**\n   * Make authenticated request to Avoma API\n   */\n  async makeRequest(endpoint, options = {}) {\n    const url = `${this.baseUrl}${endpoint}`;\n    \n    const response = await fetch(url, {\n      ...options,\n      headers: {\n        'Authorization': `Bearer ${this.apiKey}`,\n        'Content-Type': 'application/json',\n        ...options.headers,\n      },\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`Avoma API error: ${response.status} ${response.statusText} - ${errorText}`);\n    }\n\n    return await response.json();\n  }\n\n  /**\n   * Search for meetings by customer name or Salesforce Account ID\n   * Uses crm_account_ids when available (more reliable than customer_name)\n   */\n  async searchMeetings(customerName, limit = 10, salesforceAccountId = null) {\n    // Use 12 months date range (matching SOW-Generator)\n    const toDate = new Date();\n    const fromDate = new Date();\n    fromDate.setMonth(fromDate.getMonth() - 12);\n    \n    const params = new URLSearchParams({\n      page_size: limit.toString(), // Use page_size instead of limit (matching SOW-Generator)\n      from_date: fromDate.toISOString(),\n      to_date: toDate.toISOString(),\n    });\n\n    // Priority 1: Use Salesforce Account ID if available (most reliable)\n    if (salesforceAccountId) {\n      params.append('crm_account_ids', salesforceAccountId);\n    }\n    \n    // Priority 2: Fall back to customer_name if no Salesforce Account ID\n    if (!salesforceAccountId && customerName) {\n      params.append('customer_name', customerName);\n    }\n\n    return this.makeRequest(`/meetings?${params.toString()}`);\n  }\n\n  /**\n   * Get meeting details by UUID\n   */\n  async getMeeting(meetingUuid) {\n    return this.makeRequest(`/meetings/${meetingUuid}`);\n  }\n\n  /**\n   * Get transcript for a meeting\n   */\n  async getMeetingTranscript(meetingUuid) {\n    return this.makeRequest(`/transcriptions/${meetingUuid}/`);\n  }\n\n  /**\n   * Get full transcript text with speaker information\n   */\n  async getMeetingTranscriptText(meetingUuid) {\n    const transcriptData = await this.getMeetingTranscript(meetingUuid);\n    \n    const speakers = transcriptData.speakers || [];\n    let transcriptText = '';\n    \n    if (transcriptData.transcript && Array.isArray(transcriptData.transcript)) {\n      const speakerMap = new Map(speakers.map(s => [s.id, s.name || `Speaker ${s.id}`]));\n      \n      transcriptText = transcriptData.transcript\n        .map(segment => {\n          const speakerName = speakerMap.get(segment.speaker_id) || `Speaker ${segment.speaker_id}`;\n          return `${speakerName}: ${segment.transcript}`;\n        })\n        .join('\\n\\n');\n    } else if (transcriptData.content) {\n      transcriptText = transcriptData.content;\n    }\n\n    return {\n      text: transcriptText,\n      speakers: speakers,\n    };\n  }\n}\n\nmodule.exports = { AvomaClient };\n\n"],"names":[],"mappings":"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"}